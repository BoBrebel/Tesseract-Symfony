{% extends "TesseractMOOCBundle:Formateur:CoachDashboard.html.twig" %}

{% block content %}
    <div class="row">
        <div class="col-lg-12">
            <div id="quiz_div" >
                <h1>Add Quiz</h1>
                <div class="row">
                    <div class="input-field col-lg-7">
                        <input type="text"  id="titreQuiz" />
                        <label for="titreQuiz">Quiz Title</label>
                    </div>

                    <div class="input-field col-lg-7">
                        <input type="text"  id="type" />
                        <label for="type">Quiz Type</label>
                    </div>

                    <div class="input-field col-lg-7">
                        <input type="text" name="duree" id="duree" />
                        <label for="duree">Duration</label>
                    </div>

                    <div class="input-field col-lg-7">
                        <input type="text" name="duree" id="difficulty" />
                        <label for="difficulty">Difficulty</label>
                    </div>
                </div>
                <button class="btn waves-effect waves-light" type="button" onClick="addquiz()"  >Send
                    <i class="fa fa-send"></i>
                </button>




            </div>







            <div id="question_div" style="display: none" >
                <h1> Add Question </h1>
                <div class="row">
                    <div class="input-field col-lg-7">
                        <input type="text"  id="enonceQuestion" />
                        <label for="enonceQuestion">Question</label>
                    </div>
                </div>
                <button class="btn waves-effect waves-light" type="button" onClick="addquestion()"  >Send
                    <i class="fa fa-send"></i>
                </button>
                <input type="hidden" id="quiz" name="quizz"  value=0 />
            </div>



            <div id="rep_div" style="display: none">
                <h1> Add Choice </h1>
                <div class="row">
                    <div class="input-field col-lg-7">
                        <input type="text"  id="enoncerBonneRep" />
                        <label for="enoncerBonneRep">Choice</label>
                    </div>
                    <div class="input-field col-lg-7">
                        <input type="text"  id="enoncerRep1" />
                        <label for="enoncerRep1">Justification</label>
                    </div>
                    <div class="input-field col-lg-7">
                        <input type="text"  id="enoncerRep2" />
                        <label for="enoncerRep2">State</label>
                    </div>
                </div>
                <button class="btn waves-effect waves-light" type="button" onClick="adresponse()"  >Send
                    <i class="fa fa-send"></i>
                </button>

                <button class="btn waves-effect waves-light disabled" onClick="terminer()" type="button" id="terminer" >Finish
                    <i class="fa fa-send"></i>
                </button>
            </div>
        </div>
    </div>

{% endblock %}
{% block jsdependencies %}
    <script>


        function addquiz() {
            var titreQuiz = $('#titreQuiz').val();
            var type = $('#type').val();
            var duree = $('#duree').val();
            var chronoQuiz = $('#chronoQuiz').is(":checked");



            $.ajax({
                type: "post",
                url: '{{ path('esprit_quiz_ajouter') }}',
                data: {
                    'titreQuiz': titreQuiz,
                    'type': type,
                    'duree': duree,
                    'difficulty': difficulty
                },
                success: function () {
                    $('#quiz_div').hide();
                    $('#question_div').show();
                    $('#rep_div').hide();
                }
            });
        }



        function addquestion() {

            var enonceQuestion = $('#enonceQuestion').val();
            var quiz = $('#quiz').val();

            $.ajax({
                type: "post",
                url: '',
                data: {
                    'enonceQuestion': enonceQuestion
                },
                success: function () {
                    $('#enonceQuestion').val("");
                    $('#quiz').val(quiz + 1);
                    if ($('#quiz').val() === "01111") {
                        $('#terminer').removeClass('disabled');

                    }


                    $('#question_div').hide();
                    $('#rep_div').show();
                }

            });
        }




        function addreponse() {

            var enoncerBonneRep = $('#enoncerBonneRep').val();
            var enoncerRep1 = $('#enoncerRep1').val();
            var enoncerRep2 = $('#enoncerRep2').val();

            $.ajax({
                type: "post",
                url: '',
                data: {
                    'enoncerBonneRep': enoncerBonneRep,
                    'enoncerRep1': enoncerRep1,
                    'enoncerRep2': enoncerRep2
                },
                success: function () {
                    $('#enoncerRep2').val("");
                    $('#enoncerRep1').val("");
                    $('#enoncerBonneRep').val("");
                    $('#question_div').show();
                    $('#rep_div').hide();
                }
            });
        }



        function terminer() {
            window.location.href = '';
        }
    </script>

{% endblock %}
